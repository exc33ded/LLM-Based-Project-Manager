{% include "student/base_students.html" %}

{% block content %}

<h1 class="text-3xl font-bold text-gray-800 mb-6 -mt-11 text-center">Add Project</h1>

<form method="POST" enctype="multipart/form-data" class="space-y-6 max-w-xl mx-auto bg-white p-8 rounded-lg shadow-md">
    
    <!-- Project Title -->
    <div>
        <label for="title" class="block text-sm font-medium text-gray-700">Project Title:</label>
        <input type="text" name="title" id="title" required 
               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
    </div>

    <!-- Start Date -->
    <div>
        <label for="start_date" class="block text-sm font-medium text-gray-700">Start Date:</label>
        <input type="date" name="start_date" id="start_date" required 
               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
    </div>

    <!-- Upload Synopsis -->
    <div>
        <label for="synopsis" class="block text-sm font-medium text-gray-700">Upload Synopsis:</label>
        <input type="file" name="synopsis" id="synopsis" required
               class="mt-1 block w-full text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>

    <!-- Toggle for AI-Generated Tasks -->
    <div class="flex items-center">
        <input type="checkbox" id="generate_tasks" name="generate_tasks" class="w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
        <label for="generate_tasks" class="ml-2 block text-sm font-medium text-gray-700">Enable AI-Generated Tasks</label>
    </div>

    <!-- Submit Button -->
    <div>
        <button type="submit" 
                class="w-full py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
            Add Project
        </button>
        <br><br>
        <button onclick="history.back()" class="text-white bg-gray-700 hover:bg-gray-300 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-200 focus:outline-none dark:focus:ring-blue-800">Back to Project List</button>
    </div>

</form>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const startDateInput = document.getElementById("start_date");
        const today = new Date().toISOString().split("T")[0];
        startDateInput.setAttribute("min", today);
    });
</script>

{% endblock %}
